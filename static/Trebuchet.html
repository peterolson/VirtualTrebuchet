<script>
	// redirect from legacy URL
	const hash = location.hash.split('_');
	if (hash.length > 1 && hash[0] === '#simulator') {
		var inputs = deparam(hash[1]);
		const queryString = new URLSearchParams({
			units: inputs.units,
			projectile: inputs.projectile,
			uniformArm: inputs.uniformArm,
			distance: inputs.distance,
			lengthArmShort: inputs.LengthArmShort,
			lengthArmLong: inputs.LengthArmLong,
			lengthSling: inputs.LengthSling,
			lengthWeight: inputs.LengthWeight,
			heightOfPivot: inputs.HeightOfPivot,
			massArm: inputs.MassArm,
			inertiaArm: inputs.InertiaArm,
			pivotToArmCG: inputs.PivotToArmCG,
			massWeight: inputs.MassWeight,
			inertiaWeight: inputs.InertiaWeight,
			massProjectile: inputs.MassProjectile,
			projectileDiameter: inputs.ProjectileDiameter,
			windSpeed: inputs.WindSpeed,
			releaseAngle: inputs.ReleaseAngle
		}).toString();

		window.location.href = '/?' + queryString;
	} else {
		window.location.href = '/';
	}

	function deparam(querystring) {
		return Object.fromEntries(new URLSearchParams(querystring));
	}
</script>
